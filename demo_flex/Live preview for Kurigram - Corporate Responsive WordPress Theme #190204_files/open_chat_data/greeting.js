(this["webpackJsonp@livechat/chat-widget"]=this["webpackJsonp@livechat/chat-widget"]||[]).push([[8],{566:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return f})),n.d(t,"a",(function(){return y})),n.d(t,"c",(function(){return w}));var r=n(1),o=n(8),a=n(21),i=n(4),c=n(563);function s(){var e=Object(a.a)(["\n\t&-enter,\n\t&-appear {\n\t\topacity: 0;\n\t\ttransform: translateY(8px);\n\t}\n\n\t&-enter-active,\n\t&-appear-active {\n\t\topacity: 1;\n\t\ttransform: translateY(0);\n\t\ttransition: opacity 100ms ease-in, transform 200ms ease-in;\n\t}\n\n\t&-exit {\n\t\topacity: 1;\n\t\ttransform: translateY(0);\n\t}\n\n\t&-exit-active {\n\t\topacity: 0;\n\t\ttransform: translateY(8px);\n\t\ttransition: opacity 100ms ease-in, transform 200ms ease-in;\n\t}\n"]);return s=function(){return e},e}var u=function(e){return Object(i.c)("transition-delay:",e,"ms;")},l=function(e){return e(s())},m=function(e){var t=e.delay,n=void 0===t?0:t,a=Object(o.a)(e,["delay"]);return Object(i.d)(i.a,null,(function(e){var t=e.css;return Object(i.d)(c.a,Object(r.a)({},a,{timeout:200+n,classNames:l(t),css:u(n)}))}))},d=n(0);function p(){var e=Object(a.a)(["\n\ttransition-delay: ","ms;\n\n\t&-enter,\n\t&-appear {\n\t\topacity: 0;\n\t}\n\n\t&-enter-active,\n\t&-appear-active {\n\t\topacity: 1;\n\t\ttransition: opacity ","ms ease-out;\n\t}\n\n\t&-exit {\n\t\topacity: 1;\n\t}\n\n\t&-exit-active {\n\t\topacity: 0;\n\t\ttransition: opacity ","ms ease-out;\n\t}\n"]);return p=function(){return e},e}var b=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=200),e(p(),t,n,n)},f=function(e){var t=e.delay,n=void 0===t?0:t,a=e.length,s=void 0===a?200:a,u=Object(o.a)(e,["delay","length"]);return d.createElement(i.a,null,(function(e){var t=e.css;return d.createElement(c.a,Object(r.a)({},u,{timeout:s+n,classNames:b(t,n,s)}))}))};n(64);function v(){var e=Object(a.a)(["\n\t&-enter,\n\t&-appear {\n\t\topacity: 0;\n\t\ttransform: translateY(30px);\n\t}\n\n\t&-enter-active,\n\t&-appear-active {\n\t\topacity: 1;\n\t\ttransform: translateY(0);\n\t\ttransition: opacity 300ms ",", transform 400ms ",";\n\t}\n"]);return v=function(){return e},e}var h=function(e){return Object(i.c)("transition-delay:",e,"ms;")},g=function(e,t){return e(v(),t.transitions.easings.smooth,t.transitions.easings.smooth)},y=function(e){var t=e.delay,n=void 0===t?0:t,a=Object(o.a)(e,["delay"]);return Object(i.d)(i.a,null,(function(e){var t=e.css,o=e.theme;return Object(i.d)(c.a,Object(r.a)({},a,{timeout:400+n,css:h(n),classNames:g(t,o)}))}))};function j(){var e=Object(a.a)(["\n\t&-enter {\n\t\ttransform: translate(-50%, 20%);\n\t\topacity: 0;\n\t}\n\n\t&-enter-active,\n\t&-enter-done {\n\t\ttransition: transform ","ms ",",\n\t\t\topacity ","ms ",";\n\t\ttransform: translate(-50%, 0%);\n\t\topacity: 1;\n\t}\n\n\t&-exit {\n\t\ttransform: translate(-50%, 0%);\n\t\topacity: 1;\n\t}\n\n\t&-exit-active,\n\t&-exit-done {\n\t\ttransform: translate(-50%, 20%);\n\t\topacity: 0;\n\t\ttransition: transform ","ms ",",\n\t\t\topacity ","ms ease-out 50ms;\n\t}\n"]);return j=function(){return e},e}var E={enter:300,exit:300},O=function(e,t){return e(j(),300,t.transitions.easings.swift,300,t.transitions.easings.swift,300,t.transitions.easings.swift,150)},w=function(e){var t=e.nodeRef,n=Object(o.a)(e,["nodeRef"]);return d.createElement(i.a,null,(function(e){var o=e.css,a=e.theme;return d.createElement(c.a,Object(r.a)({},n,{nodeRef:t,classNames:O(o,a),timeout:E}))}))}},567:function(e,t,n){"use strict";var r=n(1),o=n(0),a=n(64),i=n(7),c=n(2),s=n(8),u=n(144),l=function(e,t,n){return void 0===n&&(n=[]),e.buttons?Object(r.a)({},e,{buttons:e.buttons.map((function(e,o){return Object(r.a)({},e,{disabled:Object(c.E)(o,n)},t&&{"aria-disabled":"true"})}))}):e},m=function(e){var t=e.card,n=e.disabledButtons,a=e.eventId,i=e.onActionButtonClick,c=e.onShowMoreButtonClick,m=Object(s.a)(e,["card","disabledButtons","eventId","onActionButtonClick","onShowMoreButtonClick"]),d=o.useState(!1),p=d[0],b=d[1];return o.useEffect((function(){if(p){var e=setTimeout((function(){b(!1)}),1e3);return function(){return clearTimeout(e)}}}),[p]),o.createElement(u.b,Object(r.a)({card:l(t,p,n),onButtonClick:function(e){p||(b(!0),i({button:t.buttons[e],event:a}))},onShowMoreButtonClick:c},m))},d=n(203),p=function(e){var t,n,i=Object(a.g)();return i&&"modern"===i.name&&(t=150,n=250),o.createElement(d.a,Object(r.a)({maxWidth:t,maxHeight:n},e))},b=n(42);var f=Object(i.z)("span",{target:"e1vbunaw0"})({name:"1nadnbu",styles:"font-size:2.5em"}),v=function(e){var t=e.event,n=e.radiusType;return o.createElement(i.c,{radiusType:n},o.createElement(i.m,null,o.createElement(f,null,o.createElement(b.a,null,t.properties.text))))},h=n(204),g=n(35),y=n(187),j=function(e){function t(){return e.apply(this,arguments)||this}Object(g.a)(t,e);var n=t.prototype;return n.componentDidUpdate=function(e,t,n){n&&this._messageListContext.scrollToBottom()},n.getSnapshotBeforeUpdate=function(e){return!this.shouldRenderPreview(e)&&this.shouldRenderPreview()&&this._messageListContext.isScrollOnBottom()},n.shouldRenderPreview=function(e){return void 0===e&&(e=this.props),Boolean(e.urlPreview.properties.title)},n.render=function(){var e=this;return o.createElement(i.l,null,(function(t){e._messageListContext=t;var n=e.props,r=n.urlPreview.properties,a=n.radiusType,s=Object(c.db)(["url","link"],r.image);return e.shouldRenderPreview()?o.createElement(i.c,{radiusType:a},o.createElement(p,s),o.createElement(i.n,{subtitle:r.description,title:r.title})):o.createElement(i.c,{radiusType:a},o.createElement(y.a,{text:r.text}))}))},t}(o.Component),E=n(194),O=n(23);var w=Object(i.z)("div",{target:"e1kfksj70"})({name:"yoe8zv",styles:"margin:0;margin-bottom:4px;font-size:1em;font-weight:400"});t.a=function(e){var t=e.event,n=e.mobile,s=e.radiusType,u=e.disabledButtons,l=e.onActionButtonClick,d=e.onShowMoreButtonClick,b=e.onShow,f=void 0===b?c.W:b,g=e.rtl,y=n&&!!d;Object(O.o)(f);var x=Object(a.g)();switch(t.type){case"carousel":return o.createElement(i.e,{dir:g?"rtl":"ltr",mobile:n,scrollableElementPadding:x.spaces.space5},t.properties.cards.map((function(e,n){return o.createElement(m,{key:n,card:e,horizontalLayout:y,eventId:t.id,disabledButtons:u,onActionButtonClick:l,TitleComponent:w,onShowMoreButtonClick:d})})));case"message":case"message_draft":return o.createElement(h.a,Object(r.a)({},t.properties,{own:t.own,radiusType:s,draft:"message_draft"===t.type&&null===t.serverId,eventId:t.properties.quickReplies&&t.id}));case"emoji":return o.createElement(v,{event:t,radiusType:s});case"rich_message":return o.createElement(m,{eventId:t.id,horizontalLayout:y,card:t.properties.card,disabledButtons:u,onActionButtonClick:l,onShowMoreButtonClick:d});case"sticker":return o.createElement(E.a,t.properties);case"url_preview":return o.createElement(j,{radiusType:s,urlPreview:t});case"image_preview":var k=Object(c.db)(["url","link","width","height","srcSet","alternativeText","name"],t.properties);return o.createElement(p,k)}return null}},590:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return H}));var r=n(1),o=n(0),a=n(7),i=n(2),c=n(26),s=n(16),u=n(564),l=n(23),m=n(104),d=n(19),p=n(3),b=n(8),f=n(566),v=Object(a.z)(a.q,{target:"e1wumze50"})("width:100%;margin-bottom:",(function(e){return e.noMargin?0:8}),"px;"),h=function(e){var t=e.reverse,n=e.noMargin,r=e.children,a=Object(b.a)(e,["reverse","noMargin","children"]);return o.createElement(f.b,a,o.createElement(v,{reverse:t,noMargin:n},r))},g=(n(21),n(4));n(64);var y=n(24),j=n(45),E=n(34),O=Object(a.z)(j.k,{target:"e241ssi0"})("width:",Object(y.e)(24),";height:",Object(y.e)(24),";border-radius:",(function(e){return e.theme.borderRadius.round}),";background:rgba(255, 255, 255, 0.5);margin-bottom:",(function(e){return.5*e.theme.spaceBase}),"px;opacity:",(function(e){var t=e.mobile;return!Object(E.e)()||t?"1":"0"}),";&:focus{opacity:1;}"),w=Object(g.c)("font-size:",Object(y.e)(24),";"),x=function(e){var t=e.mobile,n=void 0!==t&&t,o=e.onPress,a=Object(b.a)(e,["mobile","onPress"]);return Object(g.d)(O,Object(r.a)({onPress:o,mobile:n},a),Object(g.d)(j.e,{css:w,"aria-hidden":!0}))},k=n(144),C=Object(a.z)(a.f,{displayName:"Invitation",section:!0,target:"efsb37y0"})("max-width:",(function(e){return e.maxWidth}),";width:100%;margin-bottom:8px;align-items:",(function(e){return e.reverse?"flex-end":"flex-start"}),";&:hover{",O,"{opacity:1;}}",k.a,",",a.c,"{color:",(function(e){return e.theme.colors.primaryTextColor}),";background-color:",(function(e){return e.theme.colors.surface}),";box-shadow:",(function(e){return e.theme.boxShadow.floating}),";}"),P=Object(a.z)(a.q,{target:"e1svly570"})((function(e){return e.theme.typography.basic})," color:",(function(e){return e.theme.colors.primaryTextColor}),";max-width:100%;margin-bottom:10px;cursor:pointer;box-shadow:none;"),S=(n(99),Object(a.z)(a.c,{target:"e1r3j30a1"})("width:100%;border:1px solid;box-shadow:",(function(e){return e.theme.boxShadow.floating}),";border-color:",(function(e){return e.highlighted?e.theme.colors.cta:"transparent"}),";transition:border-color 100ms ease-in-out;background-color:",(function(e){return e.theme.colors.surface}),";",(function(e){return"modern"===e.theme.name&&{padding:0}}),";")),z=Object(a.z)(a.m,{target:"e1r3j30a0"})("padding:",y.f.space3,";"),B=function(e){var t=e.highlighted,n=e.children;return o.createElement(S,{highlighted:t},o.createElement(z,null,n))},T=Object(a.z)(a.c,{target:"ejca6bd0"})("max-width:255px;cursor:pointer;background-color:",(function(e){return e.theme.colors.surface}),";box-shadow:",(function(e){return e.theme.boxShadow.floating}),";"),R=function(e){var t=e.onClick,n=e.children;return o.createElement(T,{onClick:t},o.createElement(a.m,null,n))},_=Object(a.z)("input",{target:"e19y96k30"})("width:240px;flex:1;margin-bottom:1px;border:none;outline:none;font-family:inherit;color:",(function(e){return e.theme.colors.primaryTextColor}),";background-color:",(function(e){return e.theme.colors.surface}),";",(function(e){return e.theme.typography.input}),";&::placeholder{color:",(function(e){return e.theme.colors.secondaryTextColor}),";}"),A=function(e){return Object(g.c)("display:flex;flex-shrink:0;color:",e.colors.ctaText,";background-color:",e.colors.cta,";transition:background-color 100ms ease-in-out;&:disabled{background-color:",e.colors.disabled,";color:",e.colors.disabledContrast,";}")},M=function(e){var t=e.disabled,n=e.mobile,r=e.children,o=e.onPress;return Object(g.d)(j.k,{type:"submit",disabled:t,mobile:n,css:A,onPress:o,"aria-label":"Send a message"},r)},q=n(202),I=function(e){var t=e.onClose,n=e.onClick,r=e.rowReverse,i=void 0!==r&&r;return o.createElement(C,null,o.createElement(a.f,null,o.createElement(a.q,{reverse:i},o.createElement(x,{onPress:t})),o.createElement(a.q,{reverse:i},o.createElement(R,{onClick:n},o.createElement(q.a,{width:"32px",height:"21px"})))))},Y=Object(a.z)(j.v,{target:"e1gikzvv0"})("padding:",(function(e){return e.theme.spaces.space2}),";"),L=Object(c.c)((function(e,t){var n=t.type,r=t.greetingEvent,o=function(t){return e.localize(t)},a=function(){return d.t(e)},i=function(t){switch(n){case"message_input":return u=t,void d.C(e,p.d,u);case"email_input":var o,a,i=null==(o=r.properties)||null==(a=o.card)?void 0:a.buttons.find((function(e){return"webview"===e.type}));if(!i)return;var c=new URL(i.value);return c.searchParams.set("email",t),s={url:c.toString(),height:i.webviewHeight},void d.F(e,s);default:return}var s,u};return function(e){var t="en"===e.getApplicationState("language")?"Type your email\u2026":o("forms_email").replace(":","");return{maximize:a,localize:o,onSubmit:i,emailPhrase:t}}}))((function(e){var t=e.type,n=e.maximize,i=e.localize,c=e.onSubmit,s=e.emailPhrase,l=e.animated,m=void 0!==l&&l,d=o.useState(!1),p=d[0],b=d[1],f=o.useState(""),v=f[0],g=f[1],y=o.useCallback((function(){return b(!0)}),[b]),E=o.useCallback((function(){return b(!1)}),[b]),O=o.useCallback((function(e){var t=e.target;return g(t.value)}),[]),w=function(){var e=v.trim();e&&(n(),g(""),c(e))},x=function(e,t,n){switch(e){case"message_input":var r=n("write_a_message");return{buttonIcon:o.createElement(Y,null),inputProps:{placeholder:r,"aria-label":r}};case"email_input":return{buttonIcon:o.createElement(j.a,null),inputProps:{type:"email",placeholder:t,"aria-label":t}};default:return{buttonIcon:null,inputProps:{}}}}(t,s,i),k=x.inputProps,C=x.buttonIcon;return o.createElement(u.a,{appear:m,component:null},o.createElement(h,{delay:750},o.createElement(B,{highlighted:p},o.createElement("form",{onSubmit:function(e){e.preventDefault(),w()}},o.createElement(a.q,null,o.createElement(_,Object(r.a)({},k,{value:v,onBlur:E,onFocus:y,onChange:O})),o.createElement(M,{onPress:w,disabled:!v.trim()},C))))))})),W=n(9),N=n(567),D=function(e){var t=e.children,n=e.screenPosition,r=e.onResize,a=e.onClose,i=e.onPress,c=o.useState(!0),s=c[0],m=c[1],d=o.useCallback((function(){return m(!1)}),[]);return Object(l.y)(d,2e3),o.createElement(u.a,{appear:!0,exit:!1,component:null},s&&o.createElement(f.a,{onEnter:r},o.createElement(I,{onClose:a,onClick:i,rowReverse:"right"===n})),!s&&o.createElement(f.a,{onEnter:r,delay:400},t))},H=Object(c.c)((function(e,t){var n=t.id,r=e.getApplicationState("isPreview"),o=r?i.W:function(){return d.q(e)},a=r?i.W:function(){return d.m(e)},c=function(t){var n=t.event,r=t.button;d.o(e,n,r,!0)};return function(e){var t=e.getApplicationState().mobile,r=e.getEvent(p.d,n),s=Object(i.e)(r),u=W.mb(e,r);return r.properties.card&&r.properties.card.image&&(s.properties.card.image=Object(i.Y)("link",r.properties.card.image)),r.properties.text&&(s.properties.text=Object(i.mb)(t?70:200,r.properties.text)),{mobile:t,wasDisplayed:u,event:s,onClose:o,onShow:a,onActionButtonClick:c,screenPosition:W.q(e),rtl:e.getApplicationState("rtl")}}}))((function(e){var t=e.wasDisplayed,n=e.onShow,c=e.onResize,u=e.event,d=e.mobile,p=e.screenPosition,b=e.onClose,f=e.onActionButtonClick,v=e.onPress,h=e.rtl,g=u.properties,y=g.quickReplies,j=g.addon,E=Object(l.d)((function(){return!t})),O=o.useMemo((function(){return y&&!Object(i.G)(y)}),[y]),w=o.useCallback((function(e){return f({event:u.id,button:y[e]})}),[u.id,f,y]),k=Object(s.m)({onPress:v}).pressProps;Object(l.o)((function(){E||c()})),Object(l.p)(c);var S=o.createElement(C,{reverse:"right"===p,maxWidth:d?"100%":"message"===u.type?"255px":"230px"},o.createElement(a.q,{reverse:"right"===p},o.createElement(x,{mobile:d,onPress:b,"aria-label":"Hide greeting"})),o.createElement(P,Object(r.a)({reverse:"right"===p},k,{onClick:function(e){e.isTrusted||v()}}),o.createElement(N.a,{event:u,mobile:d,onShow:n,onActionButtonClick:f,onShowMoreButtonClick:v,rtl:h})),O&&o.createElement(a.q,{reverse:"right"===p},o.createElement(m.b,{"aria-labelledby":u.id,replies:y,onSelect:w})),j&&Object(i.E)("input",j)&&o.createElement(P,{reverse:"right"===p},o.createElement(L,{type:j,greetingEvent:u,animated:E})));return E?o.createElement(D,{screenPosition:p,onResize:c,onClose:b,onPress:v},S):S}))}}]);